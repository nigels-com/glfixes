<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<?xml-stylesheet type="text/xsl" href="mathml.xsl"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:pref="http://www.w3.org/2002/Math/preference" pref:renderer="mathplayer-dl"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" type="text/css" href="opengl-man.css" /><title>atomicCompSwap</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div class="refentry"><a id="atomicCompSwap"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>atomicCompSwap — perform an atomic compare-exchange operation to a variable</p></div><div class="refsynopsisdiv"><h2>Declaration</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <strong class="fsfunc">atomicCompSwap</strong>(</code></td><td>inout int <var class="pdparam">mem</var>, </td></tr><tr><td> </td><td>uint <var class="pdparam">compare</var>, </td></tr><tr><td> </td><td>uint <var class="pdparam">data</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">uint <strong class="fsfunc">atomicCompSwap</strong>(</code></td><td>inout uint <var class="pdparam">mem</var>, </td></tr><tr><td> </td><td>uint <var class="pdparam">compare</var>, </td></tr><tr><td> </td><td>uint <var class="pdparam">data</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a id="parameters"></a><h2>Parameters</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>mem</code></em></span></dt><dd><p>
                    The variable to use as the target of the operation.
                </p></dd><dt><span class="term"><em class="parameter"><code>data</code></em></span></dt><dd><p>
                    The data to be compared and potentially exchanged with <em class="parameter"><code>mem</code></em>.
                </p></dd></dl></div></div><div class="refsect1"><a id="description"></a><h2>Description</h2><p>
            <code class="function">atomicCompSwap</code> performs an atomic comparison of <em class="parameter"><code>compare</code></em> with the contents of
            <em class="parameter"><code>mem</code></em>. If the content of <em class="parameter"><code>mem</code></em> is equal to <em class="parameter"><code>compare</code></em>,
            then the content of <em class="parameter"><code>data</code></em> is written into <em class="parameter"><code>mem</code></em>,
            otherwise the content of <em class="parameter"><code>mem</code></em> is unmodifed.
            The function returns the original content of <em class="parameter"><code>mem</code></em> regardless of the
            outcome of the comparison. The contents of the memory being updated by the atomic operation are
            guaranteed not to be modified by any other assignment or atomic memory function in any shader
            invocation between the time the original value is read and the time the new value is written.
        </p><p>
            Atomic memory functions are supported only for a limited set of variables.  A shader will fail to compile
            if the value passed to the mem argument of an atomic memory function does not correspond to a buffer or
            shared variable. It is acceptable to pass an element of an array or a single component of a vector to the
            mem argument of an atomic memory function, as long as the underlying array or vector is a buffer or
            shared variable.
        </p></div><div class="refsect1"><a id="versions"></a><h2>Version Support</h2><div class="informaltable"><table border="1"><colgroup><col align="left" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /><col align="center" /></colgroup><thead><tr><th align="left"> 
            <span class="bold"><strong>Function</strong></span> 
        </th><th align="left">
            <span class="bold"><strong>Version 1.10</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 1.20</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 1.30</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 1.40</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 1.50</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 3.30</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 4.00</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 4.10</strong></span>
        </th><th align="left">
            <span class="bold"><strong>Version 4.20</strong></span>
        </th><th align="center">
            <span class="bold"><strong>Version 4.30</strong></span>
        </th></tr></thead><tbody><tr><td align="left">atomicCompSwap</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">-</td><td align="center">✔</td></tr></tbody></table></div></div><div class="refsect1"><a id="seealso"></a><h2>See Also</h2><p>
            <a class="citerefentry" href="atomicAdd.xml"><span class="citerefentry"><span class="refentrytitle">atomicAdd</span></span></a>,
            <a class="citerefentry" href="atomicAnd.xml"><span class="citerefentry"><span class="refentrytitle">atomicAnd</span></span></a>,
            <a class="citerefentry" href="atomicOr.xml"><span class="citerefentry"><span class="refentrytitle">atomicOr</span></span></a>,
            <a class="citerefentry" href="atomicXor.xml"><span class="citerefentry"><span class="refentrytitle">atomicXor</span></span></a>,
            <a class="citerefentry" href="atomicMin.xml"><span class="citerefentry"><span class="refentrytitle">atomicMin</span></span></a>,
            <a class="citerefentry" href="atomicMax.xml"><span class="citerefentry"><span class="refentrytitle">atomicMax</span></span></a>,
            <a class="citerefentry" href="atomicExchange.xml"><span class="citerefentry"><span class="refentrytitle">atomicExchange</span></span></a>
        </p></div><div class="refsect1"><a id="Copyright"></a><h2>Copyright</h2><p>
            Copyright <span class="trademark"></span>© 2011-2013 Khronos Group.
            This material may be distributed subject to the terms and conditions set forth in
            the Open Publication License, v 1.0, 8 June 1999.
            <a class="ulink" href="http://opencontent.org/openpub/" target="_top">http://opencontent.org/openpub/</a>.
        </p></div></div></body></html>
